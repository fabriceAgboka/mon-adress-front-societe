(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eda21cc2"],{"11de":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var s=i("2b0e"),a=i("b42e"),o=i("c637"),r=i("a723"),n=i("cf75"),l=Object(n["d"])({id:Object(n["c"])(r["t"]),inline:Object(n["c"])(r["g"],!1),novalidate:Object(n["c"])(r["g"],!1),validated:Object(n["c"])(r["g"],!1)},o["v"]),c=s["default"].extend({name:o["v"],functional:!0,props:l,render:function(t,e){var i=e.props,s=e.data,o=e.children;return t("form",Object(a["a"])(s,{class:{"form-inline":i.inline,"was-validated":i.validated},attrs:{id:i.id,novalidate:i.novalidate}}),o)}})},c197:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h2",{staticStyle:{color:"black"}},[t._v("Liste des gérants")]),i("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}},{name:"b-modal",rawName:"v-b-modal.add-admin-modal",modifiers:{"add-admin-modal":!0}}],attrs:{variant:"outline-primary"}},[t._v(" Ajouter ")]),i("b-modal",{attrs:{id:"add-admin-modal","cancel-variant":"outline-danger","ok-title":"Ajouter","cancel-title":"Fermer",centered:"",title:"Nouvel administrateur","hide-footer":""}},[i("b-form",[i("b-form-group",[i("label",{attrs:{for:"email"}},[t._v("Email:")]),i("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Addresse email de l'utilisateur"},model:{value:t.entity.email,callback:function(e){t.$set(t.entity,"email",e)},expression:"entity.email"}}),t.errors.email?i("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.email[0]))]):t._e()],1),i("div",{staticClass:"demo-inline-spacing justify-content-end",attrs:{align:"right"}},[i("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{disabled:t.disabled,align:"right",variant:"outline-primary"},on:{click:function(e){return t.closed()}}},[t._v(" Quitter ")]),i("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{align:"right",disabled:t.disabled,variant:"primary"},on:{click:function(e){return t.store()}}},[t._v(" Valider ")])],1)],1)],1),i("div",{staticClass:"card mt-2"},[1==t.loading?i("div",{staticClass:"m-2"},[i("b-row",[i("b-col",{staticClass:"my-1",attrs:{md:"2",sm:"4"}},[i("b-form-group",{staticClass:"mb-0"},[i("label",{staticClass:"d-inline-block text-sm-left mr-50"},[t._v("Par page")]),i("b-form-select",{staticClass:"w-50",attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),i("b-col",{staticClass:"my-1",attrs:{md:"4",sm:"8"}},[i("b-form-group",{staticClass:"mb-0",attrs:{label:"Trier","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"sortBySelect"}},[i("b-input-group",{attrs:{size:"sm"}},[i("b-form-select",{staticClass:"w-75",attrs:{id:"sortBySelect",options:t.sortOptions},scopedSlots:t._u([{key:"first",fn:function(){return[i("option",{attrs:{value:""}},[t._v("-- Aucun --")])]},proxy:!0}],null,!1,3586146808),model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),i("b-form-select",{staticClass:"w-25",attrs:{size:"sm",disabled:!t.sortBy},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[i("option",{domProps:{value:!1}},[t._v("Croissant")]),i("option",{domProps:{value:!0}},[t._v("Décroussant")])])],1)],1)],1),i("b-col",{staticClass:"my-1",attrs:{md:"6"}},[i("b-form-group",{staticClass:"mb-0",attrs:{label:"Filtrer","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[i("b-input-group",{attrs:{size:"sm"}},[i("b-form-input",{attrs:{id:"filterInput",type:"search",placeholder:"Zone de recherche"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),i("b-input-group-append",[i("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v(" Effacer ")])],1)],1)],1)],1),i("b-col",{attrs:{cols:"12"}},[i("b-table",{attrs:{striped:"",hover:"",responsive:"","per-page":t.perPage,"current-page":t.currentPage,items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(created_at)",fn:function(e){return[t._v(" "+t._s(t.format_date(e.value))+" ")]}},{key:"cell(id)",fn:function(e){return[i("span",[i("span",[i("b-dropdown",{attrs:{variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[i("feather-icon",{staticClass:"text-body align-middle mr-25",attrs:{icon:"MoreVerticalIcon",size:"16"}})]},proxy:!0}],null,!0)},[i("b-dropdown-item",{on:{click:function(i){return t.destroy(e.item.id)}}},[i("feather-icon",{staticClass:"mr-50 text-success",attrs:{icon:"CloseIcon"}}),i("span",[t._v("Retirer")])],1)],1)],1)])]}}],null,!1,359213963)})],1),i("b-col",{attrs:{cols:"12"}},[i("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1):t._e()])],1)},a=[],o=i("29a1"),r=i("e8a3"),n=i("e98b"),l=i("a15b"),c=i("b28b"),d=i("8226"),u=i("8361"),p=i("26d2"),m=i("5e12"),b=i("4797"),f=i("ccc0"),g=i("1947"),h=i("dd9a"),v=i("9eaa"),y=i("6aac"),x=i("e6c7"),B=i("11de"),w=i("c1df"),C=i.n(w),k=i("3d20"),_=i.n(k),R=i("223c"),P=i("4a7a"),N=i.n(P),O=i("e009"),T={components:{BTable:o["a"],BAvatar:r["a"],BBadge:n["a"],BRow:l["a"],BCol:c["a"],BFormGroup:d["a"],BFormSelect:u["a"],BPagination:p["a"],BInputGroup:m["a"],BFormInput:b["a"],BInputGroupAppend:f["a"],BButton:g["a"],BDropdown:h["a"],BDropdownItem:v["a"],BModal:y["a"],VBModal:x["a"],BForm:B["a"],vSelect:N.a,Ripple:O["a"]},data(){return{disabled:!1,errors:{},entity:{email:""},loading:!1,perPage:10,pageOptions:[3,5,10,30],totalRows:1,currentPage:1,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""},fields:[{key:"fullname",label:"Nom complet",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"telephone",label:"Telephone",sortable:!0},{key:"created_at",label:"Ajouter le",sortable:!0},{key:"id",label:"Actions",sortable:!0}]}},computed:{sortOptions(){return this.fields.filter(t=>t.sortable).map(t=>({text:t.label,value:t.key}))}},mounted(){this.index()},directives:{"b-modal":x["a"],Ripple:O["a"]},methods:{info(t,e,i){this.infoModal.title="Row index: "+e,this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,i)},resetInfoModal(){this.infoModal.title="",this.infoModal.content=""},onFiltered(t){this.totalRows=t.length,this.currentPage=1},index(){this.loading=!1;let t={status:3};this.$http.get("/societe/admins",t).then(t=>{this.items=t.data,this.totalRows=this.items.length,this.loading=!0,this.init_page=!0,this.current_page=page}).catch(t=>{})},async destroy(t){const e=await _.a.fire({title:"Êtes-vous sûr de vouloir retirer l'utilisateur ?",text:"Cette action est irréversible.",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, retirer!",cancelButtonText:"Annuler",reverseButtons:!0,customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1 mr-1"},buttonsStyling:!1});e.isConfirmed&&this.$http.delete("/societe/admins/"+t).then(t=>{this.index(),this.$toast({component:R["a"],props:{title:"Suppression réussie!",icon:"UserIcon",variant:"success"}})}).catch(t=>{})},closed(){this.disabled=!1,this.$bvModal.hide("add-admin-modal")},store(){this.disabled=!0,console.log("store"),this.$http.post("societe/admins",this.entity).then(t=>{this.closed(),this.index(),this.$toast({component:R["a"],props:{title:"Ajout réussie!",icon:"UserIcon",variant:"success"}})}).catch(t=>{this.disabled=!1,this.errors=t.response.data.errors,console.log("error",t)})},format_date(t){return C()(t).locale("fr").format("LL")}}},S=T,I=i("2877"),M=Object(I["a"])(S,s,a,!1,null,null,null);e["default"]=M.exports},e009:function(t,e,i){"use strict";var s={bind:function(t,e){var i={event:"mousedown",transition:600};a(Object.keys(e.modifiers),i),t.addEventListener(i.event,(function(i){n(i,t,e.value)}));var o=e.value||s.color||"rgba(0, 0, 0, 0.35)",r=s.zIndex||"9999";function n(t,e){var s=e,a=parseInt(getComputedStyle(s).borderWidth.replace("px","")),n=s.getBoundingClientRect(),l=n.left,c=n.top,d=s.offsetWidth,u=s.offsetHeight,p=t.clientX-l,m=t.clientY-c,b=Math.max(p,d-p),f=Math.max(m,u-m),g=window.getComputedStyle(s),h=Math.sqrt(b*b+f*f),v=a>0?a:0,y=document.createElement("div"),x=document.createElement("div");x.className="ripple-container",y.className="ripple",y.style.marginTop="0px",y.style.marginLeft="0px",y.style.width="1px",y.style.height="1px",y.style.transition="all "+i.transition+"ms cubic-bezier(0.4, 0, 0.2, 1)",y.style.borderRadius="50%",y.style.pointerEvents="none",y.style.position="relative",y.style.zIndex=r,y.style.backgroundColor=o,x.style.position="absolute",x.style.left=0-v+"px",x.style.top=0-v+"px",x.style.height="0",x.style.width="0",x.style.pointerEvents="none",x.style.overflow="hidden";var B=s.style.position.length>0?s.style.position:getComputedStyle(s).position;function w(){setTimeout((function(){y.style.backgroundColor="rgba(0, 0, 0, 0)"}),250),setTimeout((function(){x.parentNode.removeChild(x)}),850),e.removeEventListener("mouseup",w,!1),setTimeout((function(){for(var t=!0,e=0;e<s.childNodes.length;e++)"ripple-container"===s.childNodes[e].className&&(t=!1);t&&(s.style.position="static"!==B?B:"")}),i.transition+250)}"relative"!==B&&(s.style.position="relative"),x.appendChild(y),s.appendChild(x),y.style.marginLeft=p+"px",y.style.marginTop=m+"px",x.style.width=d+"px",x.style.height=u+"px",x.style.borderTopLeftRadius=g.borderTopLeftRadius,x.style.borderTopRightRadius=g.borderTopRightRadius,x.style.borderBottomLeftRadius=g.borderBottomLeftRadius,x.style.borderBottomRightRadius=g.borderBottomRightRadius,x.style.direction="ltr",setTimeout((function(){y.style.width=2*h+"px",y.style.height=2*h+"px",y.style.marginLeft=p-h+"px",y.style.marginTop=m-h+"px"}),0),"mousedown"===t.type?e.addEventListener("mouseup",w,!1):w()}}};function a(t,e){t.forEach((function(t){isNaN(Number(t))?e.event=t:e.transition=t}))}e["a"]=s}}]);
//# sourceMappingURL=chunk-eda21cc2.96f34933.js.map